import Int;
import Boolean;

protocol ChoiceMergeCommonPrefix@B(role A) {
    B introduces C;

    choice {
        ok() from A;
        Int to C;
        ok() to C;
    } or {
        quit() from A;
        Int to C;
        quit() to C;
    }
}