import M1;
import M2;
import M3;
import M4;

protocol ChoiceMergeNested@B (role A){

	choice {
		M1 from A;
		M4 to C;
		choice {
		    M3 from A;
		} or {
		    M4 from A;
		}
	} or {
		M2 from A;
	    M3 to A;
	    M3 to C;
	    M3 to D;
	}
}
