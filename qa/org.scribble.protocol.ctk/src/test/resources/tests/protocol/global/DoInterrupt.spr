import Order;
import OutOfStock;
import OrderExpired, OrderCancelled;
import Confirm;
import Ack;
import Finish;

protocol DoInterrupt(role Buyer) {
	Buyer introduces Seller;

	do {
		Order from Buyer to Seller;
		Confirm from Seller to Buyer;
	} interrupt {
		OutOfStock from Seller to Buyer;
	} interrupt {
		expire(OrderExpired) from Buyer to Seller;
		OrderCancelled from Buyer to Seller;
		Ack from Seller to Buyer;
	}
	
	Finish from Buyer to Seller;
}
