import Order;
import Confirmation;
import OutOfStock;
import InvalidProduct;

protocol MultiPartyInteractionsAndChoice2(role Buyer) {
	Buyer introduces Broker;
	Broker introduces Seller;

	Order from Buyer to Broker;
	
	choice at Broker {
		Order from Broker to Seller;
	
		choice at Seller {
			Confirmation from Seller to Broker;
			Confirmation from Broker to Buyer;
		} or {	
			OutOfStock from Seller to Broker;
			OutOfStock from Broker to Buyer;
		}
	} or {
		invalidProduct(InvalidProduct) from Broker to Buyer;
	}
}
