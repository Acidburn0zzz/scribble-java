//$ bin/scribblec.sh modules/core/src/test/scrib/demo/bettybook/math/Math.scr -ip modules/core/src/test/scrib/ -d modules/core/src/test/scrib -api MathService C
//$ javadoc -cp modules/core/target/classes';'modules/core/src/test/scrib -subpackages demo.bettybook.math.Math.MathService -d test/doc/fase17/travel


module demo.bettybook.math.Math;

type <java> "java.lang.Integer" from "rt.jar" as Int;


// N.B. calling this Math will clash with java.lang.Math
global protocol MathService(role C, role S)
{
	choice at C
	{
		Val(Int) from C to S;
		choice at C
		{
			Add(Int) from C to S;
			Sum(Int) from S to C;
		}
		or
		{
			Mult(Int) from C to S;
			Product(Int) from S to C;
		}
		do MathService(C, S);
	}
	or
	{
		Bye() from C to S;
	}
}
